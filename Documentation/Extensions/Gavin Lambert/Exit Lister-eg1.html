<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Extension</title></head><STYLE TYPE="text/css"><!--.oval, .oval TD{background-image:url('inform:/doc_images/ovoid.png');color:white;}--></STYLE><body><script language="JavaScript">function pasteCode(code) {    var myProject = external.Project;    myProject.selectView('source');    myProject.pasteCode(code);}</script><font size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><a href="inform://Extensions/Extensions.html" border=0><img border=0 src="inform:/doc_images/Hookindex.png" border=0></a></td><TD width=38px height=26px align="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><font color="#FFFFFF" size=2>Extensions</font></a></td><TD width=56px height=26px align="right" valign="center"><a href="inform:/index.html" border=0><img border=0 src="inform:/doc_images/Hookup.png" border=0></a></td></tr></table><p><script language="JavaScript">
function pasteCode3282(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('Include Exit Lister by Gavin Lambert.[=0x000A=][=0x000A=][=0x000A=]');
}
</script>
<a href="javascript:pasteCode3282()"><img border=0 src=inform:/doc_images/paste.png></a>&nbsp;<b>Exit Lister<font color="#404040"> by </font>Gavin Lambert</b><p><small><p>Version 2</small><p>Automatic listing of available exits, with a reasonable dose of customisation built in.<p><i>based on Exit Lister by Andre Kosmos</i><p><p><hr><p><b><a STYLE="text-decoration: none" href=#docsec1><font color="#000000">Chapter 1: About</font></a></b><br>
<br><b><a STYLE="text-decoration: none" href=#docsec2><font color="#000000">Chapter 2: Reference</font></a></b><br>
&nbsp;&nbsp;&nbsp;<a STYLE="text-decoration: none" href=#docsec3><font color="#000000">Section 2.1: New commands</font></a><br>
&nbsp;&nbsp;&nbsp;<a STYLE="text-decoration: none" href=#docsec4><font color="#000000">Section 2.2: Properties and Text</font></a><br>
&nbsp;&nbsp;&nbsp;<a STYLE="text-decoration: none" href=#docsec5><font color="#000000">Section 2.3: Advanced</font></a><br>
<br><b><a STYLE="text-decoration: none" href=#docsec6><font color="#000000">Chapter 3: Integration</font></a></b><br>
<br><b><a STYLE="text-decoration: none" href=#docsec7><font color="#000000">Chapter 4: Change Log</font></a></b><br>
&nbsp;&nbsp;&nbsp;<a STYLE="text-decoration: none" href=#docsec8><font color="#000000">Section 4.1: Changes from version 1 to version 2</font></a><br>
<br><b>Examples</b><br>&nbsp;&nbsp;&nbsp;<a STYLE="text-decoration: none" href="Exit Lister-eg1.html#eg1"><font color="#000000">A: Test Game for Exit Lister</font></a><br><p><hr><p>Values that vary: <b>List exits</b>, <b>Mentioning doors</b>, <b>Room memory</b>, <b>Darkness memory</b><p>Actions: <b>Listing exits</b>, <b>Turning exits on</b>, <b>Turning exits off</b><p>Adjectives: <b>exit-listable</b>, <b>obvious</b><p>Properties: <b>passing text</b>, <b>closed text</b>, <b>obvious</b><p><p><hr><p>
<p>
<p><a name=docsec1><b><font color="#800000">Chapter 1: About</b></font>
<p>
 This extension is based on Exit Lister by Andre Kosmos. I've tried to keep the author-facing interface compatible while reworking the internal design and adding some extra features.
<p>
 This gives you a list of available exits at the end of the room description. There are options to mention doors that are in your way, to mention rooms you have already visited, and how much info to reveal in dark rooms.
<p>
 For suggestions and feedback, Gavin Lambert can be contacted via &quot;http://www.mirality.co.nz/&quot;.
<p>
<p><hr><p><a name=docsec2><b><font color="#800000">Chapter 2: Reference</b></font>
<p>
<p><a name=docsec3><b><font color="#000000">Section 2.1: New commands</b></font>
<p>
... for the player
<p>
<blockquote><font color="#000080"> 'EXITS' ------- this gives a list of the available exits.<br> 'EXITS ON' ---- after this command there will be a list of available exits at the end of the room description. (default setting)<br> 'EXITS OFF' --- after this command the list of exits will no longer appear at the end of the room description.</font></blockquote>
<p>
... for the author: (note: these are phrases, and must appear inside a rule; eg. &quot;when play begins&quot;)
<p>
<blockquote><font color="#000080"> 'mention doors'<br>&nbsp;&nbsp;&nbsp;&nbsp; after this command the exit lister will mention if there is a door in the way of an exit. (default setting)</font></blockquote>
<p>
<blockquote><font color="#000080"> 'don't mention doors'<br>&nbsp;&nbsp;&nbsp;&nbsp; after this command doors will no longer be mentioned in the exit list.</font></blockquote>
<p>
<blockquote><font color="#000080"> 'mention visited rooms'<br>&nbsp;&nbsp;&nbsp;&nbsp; after this command exits leading to a visited room will mention this room. (default setting)</font></blockquote>
<p>
<blockquote><font color="#000080"> 'don't mention visited rooms'<br>&nbsp;&nbsp;&nbsp;&nbsp; after this command exits leading to a visited room will no longer mention this room.</font></blockquote>
<p>
<blockquote><font color="#000080"> 'mention visited rooms in darkness'<br>&nbsp;&nbsp;&nbsp;&nbsp; after this command exits leading to a visited room will still be mentioned when in darkness. (default setting)</font></blockquote>
<p>
<blockquote><font color="#000080"> 'don't mention visited rooms in darkness'<br>&nbsp;&nbsp;&nbsp;&nbsp; after this command no exits will be mentioned when in darkness.</font></blockquote>
<p>
<p><a name=docsec4><b><font color="#000000">Section 2.2: Properties and Text</b></font>
<p>
 Doors have a new property called passing text. The default is &quot;through&quot;. Some suggestions for other types of doors are: &quot;over&quot; for bridges, &quot;climbing&quot; for ropes and ladders.<blockquote><font color="#000080"> The passing text for the Wooden Bridge is &quot;over&quot;.</font></blockquote>
<p>
 Doors have a new property called closed text. The default is &quot;[closed door]&quot;, to make it use the common definition from previous versions of this extension, described below. This can be overridden on a case by case basis, eg:<blockquote><font color="#000080"> The closed text for the brown door is &quot;(barred)&quot;.</font></blockquote>
<p>
 If the closed text for a door is not defined, closed doors are mentioned with the text &quot;(closed)&quot; by default, but you can write your own text with:<blockquote><font color="#000080"> To say closed door: say &quot;(if you manage to open it)&quot;.</font></blockquote>
<p>
 If you don't want to mention the fact that doors are closed (unless you've defined a &quot;closed text&quot; for it) you can use:<blockquote><font color="#000080"> To say closed door: do nothing instead.</font></blockquote>
<p>
 You can also change the text shown when no obvious exits are visible (which doesn't necessarily mean no exits are present):<blockquote><font color="#000080"> To say no obvious exits: say &quot;There doesn't seem to be anywhere you can go.&quot;</font></blockquote>
<p>
 In addition, you can override the normal description by using the &quot;listing exits&quot; activity. For example:<blockquote><font color="#000080"> Rule for listing exits while in Fog Bank: say &quot;It's too foggy to see.&quot;</font></blockquote>
<p>
 Doors can be made &quot;not obvious&quot;. This will cause them to be hidden from exit listings (and they will stay that way even after use unless you later mark them as &quot;obvious&quot;).<blockquote><font color="#000080"> Hidden Trapdoor is a door. It is not obvious.</font></blockquote>
<p>
<p><a name=docsec5><b><font color="#000000">Section 2.3: Advanced</b></font>
<p>
 For more complicated cases, you can also define a rule:<blockquote><font color="#000080"> A door obviousness rule for the Concealed Trapdoor:<br>&nbsp;&nbsp;&nbsp;&nbsp; if the Secret Passage is not visited, rule fails.</font></blockquote>
<p>
 This also works for exits, by checking against where they go to:<blockquote><font color="#000080"> An exit obviousness rule for the Hidden Chamber:<br>&nbsp;&nbsp;&nbsp;&nbsp; if the Hidden Chamber is not visited, rule fails.</font></blockquote>
<p>
 Note that it is best to only use &quot;rule fails&quot; and &quot;make no decision&quot; -- this permits other rules (such as the standard &quot;darkness hides exits rule&quot;) to also hide the door/exit.
<p>
 Also, while it's a little odd, you can choose to avoid describing specific exits like so (this will still display the direction, but won't display the name of the door or where it leads to):<blockquote><font color="#000080"> After printing the name of east while listing exits:<br>&nbsp;&nbsp;&nbsp;&nbsp; if in the Garden, do nothing instead.</font></blockquote>
<p>
 The standard &quot;mention / don't mention visited rooms in darkness&quot; controls let you decide if you want to tell the player the way to get out (ie. the way they came in) while hiding other paths (although bear in mind that by default Inform doesn't stop them actually using those other paths), or whether you want to hide all the exits and report that there are no obvious exits. Note that only the room's visited flag is checked; in the Test Game example, the path up out of darkness to the Main Road is listed because the player has been to the Main Road, even though they haven't used that specific exit before.
<p>
 In addition, there are a couple of other potentially useful alternatives. One is to use a technique shown above to hide the message entirely (or to display a different message from normal):<blockquote><font color="#000080"> Rule for listing exits while in darkness: do nothing instead.</font></blockquote>
<p>
 Another is to remove darkness handling entirely and to show all exits. This breaks realism, so probably won't be common, but the option is there:<blockquote><font color="#000080"> The darkness hides exits rule is not listed in any rulebook.</font></blockquote>
<p>
 One final option would be to override all normal handling (including testing for darkness) for a single exit -- perhaps you have a self-lit door (or with light seeping through the cracks), giving enough light to see the door but not its surroundings:<blockquote><font color="#000080"> A door obviousness rule for the Glowing Door:<br>&nbsp;&nbsp;&nbsp;&nbsp; rule succeeds.</font></blockquote>
<p>
<p><hr><p><a name=docsec6><b><font color="#800000">Chapter 3: Integration</b></font>
<p>
 If the &quot;Secret Doors by Andrew Owen&quot; extension is in use (this is optional), then an unrevealed secret door is automatically unobvious as well.
<p>
<p><hr><p><a name=docsec7><b><font color="#800000">Chapter 4: Change Log</b></font>
<p>
<p><a name=docsec8><b><font color="#000000">Section 4.1: Changes from version 1 to version 2</b></font>
<p>
 Replaced &quot;object-based-rulebook&quot; with &quot;object-based rulebook&quot;, which seems to make recent versions of I7 happier.
<p>
 Replaced custom &quot;yes_no_flag&quot; variable kind with the built-in &quot;truth state&quot; (added in 5G67), to reduce clutter.
<p>
 Added &quot;closed text&quot; property to doors.
<p>
 When printing the names of exit destinations, the definite article is used (if you've used any article when defining the place in your source text).
<p>
<hr><p><a name=eg1><table border="0" cellspacing="0" cellpadding="0"><tr><td halign="left" valign="top" cellpadding=0 cellspacing=0 width=38px><table border="0" cellspacing="0" cellpadding="0"><tr class="oval"><td width=38px height=30px align="left" valign="center"><a href="Exit Lister.html#eg1" STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>A</b></div></a></td></tr></table></td><td cellpadding=0 cellspacing=0 halign="left" valign="top"><font size=2><a href="Exit Lister.html#eg1" STYLE="text-decoration: none"><img border="0" src='inform:/doc_images/asterisk.png'><b><font color="#505050">&nbsp;Example&nbsp;</font> <font color="#000000">Test Game for Exit Lister</font></b></a><br><p></td></tr></table><p><table border="0" cellspacing="0" cellpadding="0" bgcolor="#f0f0f0" width=100%><tr><td align="left" valign="top"><font size=2><p>
<p>
 This example asks the player up front what they want to see in the exit list, in order to better demonstrate the options. Normally, though, these will be fixed by the author, although if you want you can define additional commands to let the player change them at will.
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode3283(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('[=0x0022=]Test Game for Exit Lister[=0x0022=] by Gavin Lambert.[=0x000A=]After printing the banner text: say [=0x0022=]Based on the test game by Andre Kosmos.[=0x0022=][=0x000A=][=0x000A=]Include Exit Lister by Gavin Lambert.[=0x000A=][=0x000A=]Hallway is a room. [=0x0022=]This hallway is decorated with the simplest wallpaper you have ever seen. There are no pictures, or plates with wise words, nor tiles with proverbs hanging on any of the walls. The only thing you notice is that all the doors are painted in different colors.[=0x0022=][=0x000A=][=0x000A=]The pink door is east of hallway and west of Bathroom. It is a door and scenery.[=0x000A=]The description of the bathroom is [=0x0022=]Everything in here is pink. The tiles on the walls, the toilet bowl, the bathtub, the floor, and even the ceiling. The only thing not pink is a large mirror on the wall, but since all it reflects is pink that hardly matters.[=0x0022=].[=0x000A=]A large mirror is scenery in bathroom. Instead of examining mirror, say [=0x0022=]Don[=0x0027=]t be vain, you look fine.[=0x0022=].[=0x000A=][=0x000A=]The brown door is west of hallway and east of the Living Room. It is a door and scenery. The closed text of the brown door is [=0x0022=](barred)[=0x0022=].[=0x000A=]The description of the living room is [=0x0022=]You are in a well decorated room here, there are numerous pictures on the walls, some comfy looking chairs, and a big television set.[=0x0022=][=0x000A=][=0x000A=]The green door is south of hallway and north of Garden. It is a door and scenery.[=0x000A=]The description of garden is [=0x0022=]A large garden with very short cut grass, and various flowerbeds. The main thing you notice is a large oak tree. From between the leaves of the trees you see a rope ladder hanging down to the ground. The ladder is dug into the ground to keep it from swinging too much when you climb it.[=0x0022=][=0x000A=][=0x000A=]The rope ladder is up from garden and down from the Tree house. It is a open unopenable door and scenery.[=0x000A=]The passing text of rope ladder is [=0x0022=]climbing[=0x0022=]. Instead of climbing the rope ladder in tree house, try going down. Instead of climbing the rope ladder in garden, try going up.[=0x000A=][=0x000A=]The description of the tree house is [=0x0022=]A Rather untraditional tree house, the walls are decorated with a rather ugly wallpaper with pink and purple flowers, and a thick red carpet covers the floor.[=0x0022=][=0x000A=][=0x000A=]A wooden bridge is east of garden and west of the Main Street. It is an open unopenable door and scenery. The passing text of the wooden bridge is [=0x0022=]over[=0x0022=].[=0x000A=][=0x000A=]The description of the main street is [=0x0022=]This is the main street, from here you could go to town to see a movie, visit a pub, or something. If only the author of this game wasn[=0x0027=]t too lazy to write those pleasant locations in. Ah well... maybe next version.[=0x0022=][=0x000A=][=0x000A=]West End of Tunnel is down from the garden. [=0x0022=]The western end of a small tunnel running under the river.[=0x0022=] It is dark.[=0x000A=]East End of Tunnel is down from Main Street. [=0x0022=]The eastern end of a small tunnel running under the river.[=0x0022=] It is dark.[=0x000A=]East of West End of Tunnel is East End of Tunnel.[=0x000A=][=0x000A=]A light stick is in Main Street. [=0x0022=]A feebly-glowing light stick lies discarded nearby.[=0x0022=] It is lit.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]say [=0x0022=]Do you want a list of possible exits at the end of the room description?[=0x0022=];[=0x000A=][=0x0009=]if player consents, try turning exits on;[=0x000A=][=0x0009=]otherwise try turning exits off;[=0x000A=][=0x0009=]say [=0x0022=][paragraph break]You can always turn the exit list on or off with the commands EXITS ON and EXITS OFF. You can also always ask for an exit list with the command EXITS.[paragraph break]Do you want the exit lister to mention locations you have already visited?[=0x0022=];[=0x000A=][=0x0009=]if player consents, mention visited rooms;[=0x000A=][=0x0009=]otherwise don[=0x0027=]t mention visited rooms;[=0x000A=][=0x0009=]say [=0x0022=][paragraph break]Sometimes the exit list can tell you that you can go north, but when you try to the game tells you that You can[=0x0027=]t, since some door is in the way. [paragraph break]Do you want to mention those doors in the exit list?[=0x0022=];[=0x000A=][=0x0009=]if player consents, mention doors;[=0x000A=][=0x0009=]otherwise don[=0x0027=]t mention doors;[=0x000A=][=0x0009=]say [=0x0022=][paragraph break]Do you want the exit lister to still mention visited rooms even in darkness?[=0x0022=];[=0x000A=][=0x0009=]if player consents, mention visited rooms in darkness;[=0x000A=][=0x0009=]otherwise don[=0x0027=]t mention visited rooms in darkness;[=0x000A=][=0x0009=]say [=0x0022=][paragraph break][=0x0022=].[=0x000A=][=0x000A=]test me with [=0x0022=]open green door / s / e / w / u / d / d / e / u / get stick / d / w[=0x0022=][=0x000A=][=0x000A=]');
}
</script>
<a href="javascript:pasteCode3283()"><img border=0 src=inform:/doc_images/paste.png></a> &quot;Test Game for Exit Lister&quot; by Gavin Lambert.<br> After printing the banner text: say &quot;Based on the test game by Andre Kosmos.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Include Exit Lister by Gavin Lambert.</font></blockquote>
<p>
<blockquote><font color="#000080"> Hallway is a room. &quot;This hallway is decorated with the simplest wallpaper you have ever seen. There are no pictures, or plates with wise words, nor tiles with proverbs hanging on any of the walls. The only thing you notice is that all the doors are painted in different colors.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> The pink door is east of hallway and west of Bathroom. It is a door and scenery.<br> The description of the bathroom is &quot;Everything in here is pink. The tiles on the walls, the toilet bowl, the bathtub, the floor, and even the ceiling. The only thing not pink is a large mirror on the wall, but since all it reflects is pink that hardly matters.&quot;.<br> A large mirror is scenery in bathroom. Instead of examining mirror, say &quot;Don't be vain, you look fine.&quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> The brown door is west of hallway and east of the Living Room. It is a door and scenery. The closed text of the brown door is &quot;(barred)&quot;.<br> The description of the living room is &quot;You are in a well decorated room here, there are numerous pictures on the walls, some comfy looking chairs, and a big television set.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> The green door is south of hallway and north of Garden. It is a door and scenery.<br> The description of garden is &quot;A large garden with very short cut grass, and various flowerbeds. The main thing you notice is a large oak tree. From between the leaves of the trees you see a rope ladder hanging down to the ground. The ladder is dug into the ground to keep it from swinging too much when you climb it.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> The rope ladder is up from garden and down from the Tree house. It is a open unopenable door and scenery.<br> The passing text of rope ladder is &quot;climbing&quot;. Instead of climbing the rope ladder in tree house, try going down. Instead of climbing the rope ladder in garden, try going up.</font></blockquote>
<p>
<blockquote><font color="#000080"> The description of the tree house is &quot;A Rather untraditional tree house, the walls are decorated with a rather ugly wallpaper with pink and purple flowers, and a thick red carpet covers the floor.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> A wooden bridge is east of garden and west of the Main Street. It is an open unopenable door and scenery. The passing text of the wooden bridge is &quot;over&quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> The description of the main street is &quot;This is the main street, from here you could go to town to see a movie, visit a pub, or something. If only the author of this game wasn't too lazy to write those pleasant locations in. Ah well... maybe next version.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> West End of Tunnel is down from the garden. &quot;The western end of a small tunnel running under the river.&quot; It is dark.<br> East End of Tunnel is down from Main Street. &quot;The eastern end of a small tunnel running under the river.&quot; It is dark.<br> East of West End of Tunnel is East End of Tunnel.</font></blockquote>
<p>
<blockquote><font color="#000080"> A light stick is in Main Street. &quot;A feebly-glowing light stick lies discarded nearby.&quot; It is lit.</font></blockquote>
<p>
<blockquote><font color="#000080"> When play begins:<br>&nbsp;&nbsp;&nbsp;&nbsp; say &quot;Do you want a list of possible exits at the end of the room description?&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp; if player consents, try turning exits on;<br>&nbsp;&nbsp;&nbsp;&nbsp; otherwise try turning exits off;<br>&nbsp;&nbsp;&nbsp;&nbsp; say &quot;[paragraph break]You can always turn the exit list on or off with the commands EXITS ON and EXITS OFF. You can also always ask for an exit list with the command EXITS.[paragraph break]Do you want the exit lister to mention locations you have already visited?&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp; if player consents, mention visited rooms;<br>&nbsp;&nbsp;&nbsp;&nbsp; otherwise don't mention visited rooms;<br>&nbsp;&nbsp;&nbsp;&nbsp; say &quot;[paragraph break]Sometimes the exit list can tell you that you can go north, but when you try to the game tells you that You can't, since some door is in the way. [paragraph break]Do you want to mention those doors in the exit list?&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp; if player consents, mention doors;<br>&nbsp;&nbsp;&nbsp;&nbsp; otherwise don't mention doors;<br>&nbsp;&nbsp;&nbsp;&nbsp; say &quot;[paragraph break]Do you want the exit lister to still mention visited rooms even in darkness?&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp; if player consents, mention visited rooms in darkness;<br>&nbsp;&nbsp;&nbsp;&nbsp; otherwise don't mention visited rooms in darkness;<br>&nbsp;&nbsp;&nbsp;&nbsp; say &quot;[paragraph break]&quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> test me with &quot;open green door / s / e / w / u / d / d / e / u / get stick / d / w&quot;</font></blockquote>
<p>
</font></td></tr></table><p>
<p>
<p></body></html>