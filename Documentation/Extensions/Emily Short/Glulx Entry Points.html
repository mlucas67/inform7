<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Extension</title></head><STYLE TYPE="text/css"><!--.oval, .oval TD{background-image:url('inform:/doc_images/ovoid.png');color:white;}--></STYLE><body><script language="JavaScript">function pasteCode(code) {    var myProject = external.Project;    myProject.selectView('source');    myProject.pasteCode(code);}</script><font size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><a href="inform://Extensions/Extensions.html" border=0><img border=0 src="inform:/doc_images/Hookindex.png" border=0></a></td><TD width=38px height=26px align="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><font color="#FFFFFF" size=2>Extensions</font></a></td><TD width=56px height=26px align="right" valign="center"><a href="inform:/index.html" border=0><img border=0 src="inform:/doc_images/Hookup.png" border=0></a></td></tr></table><p><script language="JavaScript">
function pasteCode1043(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('Include Glulx Entry Points by Emily Short.[=0x000A=][=0x000A=][=0x000A=]');
}
</script>
<a href="javascript:pasteCode1043()"><img border=0 src=inform:/doc_images/paste.png></a>&nbsp;<b>Glulx Entry Points<font color="#404040"> by </font>Emily Short</b><p><small><p>Extension built in to Inform</small><p><p><hr><p>
<p>
 Glulx allows the author to set responses to certain events:
<p>
<blockquote><font color="#000080"> Timer - event repeated at fixed intervals<br> CharInput - keystroke input in a window<br> LineInput - full line of input in a window<br> MouseInput - mouse input in a window<br> Arrange - some windows sizes have changed<br> Redraw - graphic windows need redrawing<br> SoundNotify - sound finished playing<br> Hyperlink - selection of a hyperlink in a window</font></blockquote>
<p>
 Glulx Entry Points provides a set of rulebooks so that the author can add responses to these events without himself having to include any Inform 6 code. These are
<p>
<blockquote><font color="#000080"> The glulx timed activity rules is a rulebook.<br> The glulx redrawing rules is a rulebook.<br> The glulx arranging rules is a rulebook.<br> The glulx mouse input rules is a rulebook.<br> The glulx character input rules is a rulebook.<br> The glulx line input rules is a rulebook.<br> The glulx hyperlink rules is a rulebook.</font></blockquote>
<p>
 One of the things we may want to do -- especially with mouse input or hyperlinks -- is generate a command for the player. To do this, we set the value of Glulx replacement command to whatever string of text we want to turn into the player's command. If we do this, Inform will treat whatever command we issued in &quot;Glulx replacement command&quot; as though the player had typed it at the command prompt. The extension Basic Hyperlinks builds on this infrastructure and provides an example of how to make use of these features.
<p>
 Because the Glulx replacement command is indexed text, it is possible to build on to the string automatically, if for some reason we need to auto-generate our recommended commands.
<p>
 We also have a series of rulebooks for handling the stages of IdentifyGlkObject:
<p>
<blockquote><font color="#000080"> The glulx zeroing-reference rules is a rulebook.<br> The glulx resetting-windows rules is a rulebook.<br> The glulx resetting-streams rules is a rulebook.<br> The glulx resetting-filerefs rules is a rulebook.<br> The glulx object-updating rules is a rulebook.</font></blockquote>
<p>
 Examples of the use of these can be seen in the extension Simple Graphics Windows.
<p>
 Please note that this extension is provided as a framework and as a basis for other extensions.
<p>
 Currently Inform is not designed to support sound output properly across all systems. The Mac OS X IDE will not play sounds in-game, so if we are developing a sound-rich game on the Mac, we will need to test the sounds by releasing the game file and playing it on a separate interpreter; at the time of writing, the best Mac sound support was provided by Spatterlight.
<p>
 We can test whether the player's interpreter is prepared to support various multimedia features using the following phrases from Glulx Entry Points:
<p>
<blockquote><font color="#000080"> if glulx character input is supported...<br> if glulx mouse input is supported...<br> if glulx graphic-window mouse input is supported...<br> if glulx text-grid mouse input is supported...<br> if glulx timekeeping is supported...<br> if glulx graphics is supported...<br> if glulx text-buffer graphics is supported...<br> if glulx graphic-window graphics is supported...<br> if glulx PNG transparency is supported...<br> if glulx sound is supported...<br> if glulx mod sound is supported...<br> if glulx sound volume is supported...<br> if glulx sound notification is supported...<br> if glulx hyperlinks are supported...</font></blockquote>
<p>
 Of these:<blockquote><font color="#000080"> &quot;mouse input&quot; refers to our ability to detect clicks at all<br> &quot;timekeeping&quot; to the ability to use a real-time timer<br> &quot;graphics&quot; to the ability to use any graphics<br> &quot;text-buffer&quot; and &quot;graphic-window&quot; graphics to the ability to use graphics specifically in the main window or in a window specially created for graphics<br> &quot;PNG transparency&quot; to whether it will be possible to layer PNG images with transparent alpha channels (this is very useful for manipulating sprites)<br> &quot;sound&quot; to playing any sound, and &quot;mod sound&quot; to sounds specifically in MOD format<br> &quot;sound volume&quot; to the ability to control the volume<br> &quot;sound notification&quot; to detecting when a sound finishes playing<br> &quot;hyperlinks&quot; to the ability to insert mouseclick-sensitive links in the main body of text</font></blockquote>
<p>
 These can be used during play to avoid using Glulx features that aren't supported, or at the start of play to warn the player that the chosen interpreter is unable to present the full experience intended by the author.
<p>
 Thanks to Eliuk Blau and Jon Ingold for pointing out some bugs in version 5, and to Erik Temple for the patch handling input cancellation that brings us to version 7.
<p>
<hr><p><a name=eg1><table border="0" cellspacing="0" cellpadding="0"><tr><td halign="left" valign="top" cellpadding=0 cellspacing=0 width=38px><table border="0" cellspacing="0" cellpadding="0"><tr class="oval"><td width=38px height=30px align="left" valign="center"><a href="Glulx Entry Points-eg1.html#eg1" STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>A</b></div></a></td></tr></table></td><td cellpadding=0 cellspacing=0 halign="left" valign="top"><font size=2><a href="Glulx Entry Points-eg1.html#eg1" STYLE="text-decoration: none"><img border="0" src='inform:/doc_images/asterisk.png'><b><font color="#505050">&nbsp;Example&nbsp;</font> <font color="#000000">Working Without Sound</font></b></a><br>Printing a warning at the beginning of the game if the interpreter does not use sound.<p></td></tr></table><p>
<p>

<p>

<p>

<p>

<p>

<p>

<p>

<p>
<p></body></html>